<aura:component>
    <aura:attribute name="invoiceId" type="Id" default="null"/>
    <aura:attribute name="sellerId" type="Id"/>
    <aura:attribute name="accountId" type="Id"/>
    <aura:attribute name="serviceId" type="Set"/>   
    <aura:attribute name="Step" type="String" default="1"/>
    <aura:attribute name="disabledButton" type="Boolean" default="false"/>
    <aura:attribute name="fields" type="String[]" default="['Invoice_Number__c','Account__c','Seller__c','Issue_Place__c','Issue_Date__c','Delivery_Date__c',
                                                           'Net_Total__c', 'VAT_Total__c','Gross_Total__c','Amount_in_words__c',
                                                           'Payment_Terms__c','Status__c','Payment__c','Due_Date__c'
                                                           ]"/>
    <aura:attribute name="invoiceWizard" type="Boolean" default="true"/>
    <aura:attribute name="nextButton" type="Boolean" default="true"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:registerEvent name="onchange" type="c:InvoiceWizardEvent"/> 
    <lightning:notificationsLibrary aura:id="notifLib"/>
    
    <div class="slds-card slds-p-top_medium slds-p-around_small" >        
        <div class= "slds-grid slds-wrap">
            <div class="slds-col slds-size_2-of-3 slds-medium-size_9-of-12 slds-large-size_9-of-12 slds-p-horizontal_medium"></div>          
            <div class="slds-col slds-size_1-of-3 slds-medium-size_3-of-12 slds-large-size_3-of-12 slds-p-horizontal_medium slds-p-bottom_medium">               
            </div>
            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-12 slds-large-size_1-of-12 slds-p-horizontal_medium"></div>
            <div class="slds-col slds-size_1-of-1 slds-medium-size_9-of-12 slds-large-size_9-of-12 slds-p-horizontal_medium">                
                <span class="slds-p-bottom_medium slds-text-heading_small slds-text-longform">{!$Label.c.Invoice_Wizard_Text}</span>                
                <c:CustomLoopkUp objectName="Invoice__c" fieldName="Invoice_Number__c" label="Invoice Number" iconName="standard:account" 
                                 placeholder="Enter Value" recordId="{!v.invoiceId}" disabledButton="{!v.disabledButton}" nextButton="{!v.nextButton}"/> 
                <div class="slds-p-top_medium slds-p-around_small" ></div>
                <lightning:recordForm aura:id="myRecordForm"
                                      objectApiName="Invoice__c"
                                      fields="{!v.fields}"
                                      layoutType="Compact"
                                      columns="2"                  
                                      recordId="{!v.invoiceId}"                  
                                      oncancel="{!c.handleCancel}"
                                      onsuccess="{!c.handleSuccess}"
                                      onerror="{!c.handleError}"
                                      mode="{!not(empty(v.invoiceId)) ? 'readonly' : 'edit'}" />                
            </div>
            <div class="slds-col slds-size_1-of-1 slds-medium-size_2-of-12 slds-large-size_2-of-12 slds-p-horizontal_medium"></div>          
            <div class="slds-col slds-size_1-of-2 slds-medium-size_11-of-12 slds-large_size_11-of-12">
                <lightning:button variant="brand" type="submit" name="save" label="Back" onclick="{!c.handleBack}"/>
            </div>
            <div class="slds-col slds-size_1-of-2 slds-medium-size_1-of-12 slds-large_size_1-of-12">
                <div class="slds-float_right">
                    <lightning:button variant="brand" type="submit" name="save" label="Next" disabled="{!v.nextButton}" onclick="{!c.handleNext}"/>
                </div>
            </div>
        </div>
    </div>  
</aura:component>